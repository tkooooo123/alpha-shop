{"version":3,"sources":["webpack:///./src/views/dashboard/AdminOrderModal.vue?e29d","webpack:///./src/apis/admin.js","webpack:///./src/views/dashboard/AdminOrders.vue?a453","webpack:///./src/views/dashboard/AdminOrders.vue","webpack:///./src/views/dashboard/AdminOrderModal.vue","webpack:///src/views/dashboard/AdminOrderModal.vue","webpack:///./src/views/dashboard/AdminOrderModal.vue?6471","webpack:///./src/views/dashboard/AdminOrderModal.vue?8749","webpack:///./src/views/dashboard/AdminOrderPaginaiton.vue","webpack:///src/views/dashboard/AdminOrderPaginaiton.vue","webpack:///./src/views/dashboard/AdminOrderPaginaiton.vue?594c","webpack:///./src/views/dashboard/AdminOrderPaginaiton.vue?b13c","webpack:///src/views/dashboard/AdminOrders.vue","webpack:///./src/views/dashboard/AdminOrders.vue?806d","webpack:///./src/views/dashboard/AdminOrders.vue?6655","webpack:///./src/views/dashboard/AdminOrderPaginaiton.vue?dca2"],"names":["getToken","localStorage","getItem","getProducts","page","categoryId","searchParams","URLSearchParams","apiHelper","get","toString","headers","Authorization","getProduct","id","putProduct","formData","put","postProduct","post","deleteProduct","delete","getCategories","createCategory","name","deleteCategory","updateCategory","getOrders","cancelOrder","data","updateOrder","payment","shipment","getOrder","render","_vm","this","_c","_self","staticClass","isLoading","isProcessing","_e","_v","_l","orders","order","key","_s","createdAt","amount","directives","rawName","value","isEditing","expression","payment_status","attrs","on","$event","$$selectedVal","Array","prototype","filter","call","target","options","o","selected","map","val","_value","$set","multiple","domProps","shipping_status","preventDefault","stopPropagation","toggleIsEditing","orderId","currentPage","totalPage","previousPage","nextPage","staticRenderFns","showModal","apply","arguments","modalId","closeModal","orderProducts","orderProduct","image","OrderItem","quantity","price","address","phone","props","initialOrderId","type","required","totalPrice","modal","created","methods","console","component","class","disabled","query","active","default","components","AdminOrderModal","AdminOrderPaginaiton","Spinner","ProcessSpinner","queryPage","beforeRouteUpdate","next","prev","Toast","icon","title"],"mappings":"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","file":"js/chunk-f4f0610c.c759c278.js","sourcesContent":["export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AdminOrderModal.vue?vue&type=style&index=0&id=b7177c8a&prod&lang=scss&\"","import { apiHelper } from \"../utils/helpers\";\r\nconst getToken = () => localStorage.getItem('token')\r\n\r\nexport default {\r\n    getProducts({ page, categoryId }) {\r\n        const searchParams = new URLSearchParams({ page, categoryId })\r\n        return apiHelper.get(`/admin/products?${searchParams.toString()}`, {\r\n            headers: { Authorization: `Bearer ${getToken()}` }\r\n        })\r\n    },\r\n    getProduct({ id }) {\r\n        return apiHelper.get(`/admin/products/${id}`, {\r\n            headers: { Authorization: `Bearer ${getToken()}` }\r\n        })\r\n    },\r\n    putProduct({ id, formData }) {\r\n        return apiHelper.put(`/admin/products/${id}`, formData, {\r\n            headers: { Authorization: `Bearer ${getToken()}` }\r\n        })\r\n    },\r\n    postProduct({ formData }) {\r\n        return apiHelper.post('/admin/product', formData, {\r\n            headers: { Authorization: `Bearer ${getToken()}` }\r\n        })\r\n\r\n    },\r\n    deleteProduct({ id }) {\r\n        return apiHelper.delete(`/admin/products/${id}/delete`, {\r\n            headers: { Authorization: `Bearer ${getToken()}` }\r\n        })\r\n    },\r\n    getCategories() {\r\n        return apiHelper.get('/admin/categories', {\r\n            headers: { Authorization: `Bearer ${getToken()}` }\r\n        })\r\n    },\r\n    createCategory({ name }) {\r\n        return apiHelper.post('/admin/categories', { name }, {\r\n            headers: { Authorization: `Bearer ${getToken()}` }\r\n        })\r\n    },\r\n    deleteCategory({ id }) {\r\n        return apiHelper.delete(`/admin/categories/${id}`, {\r\n            headers: { Authorization: `Bearer ${getToken()}` }\r\n        })\r\n\r\n    },\r\n    updateCategory({ id, name }) {\r\n        return apiHelper.put(`/admin/categories/${id}`, { name }, {\r\n            headers: { Authorization: `Bearer ${getToken()}` }\r\n        })\r\n\r\n    },\r\n    getOrders({ page }) {\r\n        const searchParams = new URLSearchParams({ page })\r\n        return apiHelper.get(`/admin/orders?${searchParams.toString()}`, {\r\n            headers: { Authorization: `Bearer ${getToken()}` }\r\n        })\r\n    },\r\n    cancelOrder({ id, data }) {\r\n        return apiHelper.put(`/admin/orders/${id}/cancel`, { data }, {\r\n            headers: { Authorization: `Bearer ${getToken()}` }\r\n        })\r\n    },\r\n    updateOrder({ id, payment, shipment }) {\r\n        return apiHelper.put(`/admin/orders/${id}`, { payment, shipment }, {\r\n            headers: { Authorization: `Bearer ${getToken()}` }\r\n        })\r\n    },\r\n    getOrder({ id }) {\r\n        return apiHelper.get(`/admin/orders/${id}`, {\r\n            headers: { Authorization: `Bearer ${getToken()}` }\r\n        })\r\n    }\r\n}","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AdminOrders.vue?vue&type=style&index=0&id=f3c9133e&prod&lang=scss&\"","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"admin-orders-wrapper\"},[(_vm.isLoading === true)?_c('Spinner'):_c('div',[_c('div',{staticClass:\"orderList mt-4\"},[_c('table',{staticClass:\"orderList-table\"},[(_vm.isProcessing === true)?_c('ProcessSpinner'):_vm._e(),_c('thead',[_c('tr',[_c('th',[_vm._v(\"訂單編號\")]),_c('th',[_vm._v(\"訂單日期\")]),_c('th',[_vm._v(\"總金額\")]),_c('th',[_vm._v(\"付款狀態\")]),_c('th',[_vm._v(\"配送狀態\")]),_c('th',[_vm._v(\"其他\")]),_c('th',[_vm._v(\"編輯/取消\")])])]),_vm._l((_vm.orders),function(order){return _c('tbody',{key:order.id},[_c('tr',[_c('td',{staticClass:\"orderList-item-id\"},[_vm._v(\" \"+_vm._s(order.id)+\" \")]),_c('td',{staticClass:\"orderList-item-date\"},[_vm._v(\" \"+_vm._s(order.createdAt)+\" \")]),_c('td',{staticClass:\"orderList-item-price\"},[_vm._v(\"NT$ \"+_vm._s(order.amount))]),_c('td',{staticClass:\"orderList-item-payment\"},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!order.isEditing),expression:\"!order.isEditing\"}]},[(order.payment_status === '0')?_c('div',[_vm._v(\"未付款\")]):(order.payment_status === '1')?_c('div',[_vm._v(\"已付款\")]):_c('div',[_vm._v(\"已取消\")])]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(order.isEditing),expression:\"order.isEditing\"}]},[_c('label',{attrs:{\"for\":\"payment\"}}),_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(order.payment_status),expression:\"order.payment_status\"}],attrs:{\"name\":\"payment\",\"id\":\"payment\"},on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.$set(order, \"payment_status\", $event.target.multiple ? $$selectedVal : $$selectedVal[0])}}},[_c('option',{attrs:{\"value\":\"-1\"},domProps:{\"selected\":order.payment_status === '-1'}},[_vm._v(\" 已取消 \")]),_c('option',{attrs:{\"value\":\"0\"},domProps:{\"selected\":order.payment_status === '0'}},[_vm._v(\" 未付款 \")]),_c('option',{attrs:{\"value\":\"1\"},domProps:{\"selected\":order.payment_status === '1'}},[_vm._v(\" 已付款 \")])])])]),_c('td',{staticClass:\"orderList-item-shipment\"},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!order.isEditing),expression:\"!order.isEditing\"}]},[(order.shipping_status === '0')?_c('div',[_vm._v(\"未配送\")]):(order.shipping_status === '1')?_c('div',[_vm._v(\"配送中\")]):_c('div',[_vm._v(\"已取消\")])]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(order.isEditing),expression:\"order.isEditing\"}]},[_c('label',{attrs:{\"for\":\"shipment\"}}),_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(order.shipping_status),expression:\"order.shipping_status\"}],attrs:{\"name\":\"shipment\",\"id\":\"shipment\"},on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.$set(order, \"shipping_status\", $event.target.multiple ? $$selectedVal : $$selectedVal[0])}}},[_c('option',{attrs:{\"value\":\"-1\"},domProps:{\"selected\":order.shipping_status === '-1'}},[_vm._v(\" 已取消 \")]),_c('option',{attrs:{\"value\":\"0\"},domProps:{\"selected\":order.shipping_status === '0'}},[_vm._v(\" 未配送 \")]),_c('option',{attrs:{\"value\":\"1\"},domProps:{\"selected\":order.shipping_status === '1'}},[_vm._v(\" 配送中 \")])])])]),_c('td',[_c('AdminOrderModal',{attrs:{\"initial-order-id\":order.id}})],1),_c('td',{staticClass:\"orderList-item-btn\"},[_c('button',{directives:[{name:\"show\",rawName:\"v-show\",value:(!order.isEditing),expression:\"!order.isEditing\"}],on:{\"click\":function($event){$event.preventDefault();$event.stopPropagation();return _vm.toggleIsEditing(order.id)}}},[_c('i',{staticClass:\"fa fa-edit fa-lg\"})]),_c('button',{directives:[{name:\"show\",rawName:\"v-show\",value:(order.isEditing),expression:\"order.isEditing\"}],on:{\"click\":function($event){$event.preventDefault();$event.stopPropagation();return _vm.updateOrder({\n                    orderId: order.id,\n                    payment: order.payment_status,\n                    shipment: order.shipping_status,\n                  })}}},[_c('i',{staticClass:\"fa fa-save fa-lg\"})]),_c('button',{on:{\"click\":function($event){$event.preventDefault();$event.stopPropagation();return _vm.cancelOrder(order)}}},[_c('i',{staticClass:\"fa fa-cancel fa-lg\"})])])])])})],2)]),_c('AdminOrderPaginaiton',{attrs:{\"current-page\":_vm.currentPage,\"total-page\":_vm.totalPage,\"previous-page\":_vm.previousPage,\"next-page\":_vm.nextPage}})],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"order-wrapper\"},[_c('button',{staticClass:\"modal-btn\",attrs:{\"type\":\"button\",\"data-bs-toggle\":\"modal\",\"data-bs-target\":\"#exampleModal\"},on:{\"click\":function($event){$event.preventDefault();$event.stopPropagation();return _vm.showModal.apply(null, arguments)}}},[_vm._v(\" 詳 \")]),_c('div',{staticClass:\"modal fade\",attrs:{\"id\":_vm.modalId,\"tabindex\":\"-1\",\"aria-labelledby\":\"exampleModal\",\"aria-hidden\":\"true\"}},[_c('div',{staticClass:\"modal-dialog\"},[_c('div',{staticClass:\"modal-content\"},[_c('div',{staticClass:\"modal-header\"},[_c('h5',{staticClass:\"modal-title\",attrs:{\"id\":\"exampleModalLabel\"}},[_vm._v(\"商品明細\")]),_c('button',{staticClass:\"btn-close\",attrs:{\"type\":\"button\",\"data-bs-dismiss\":\"modal\",\"aria-label\":\"Close\"},on:{\"click\":function($event){$event.preventDefault();$event.stopPropagation();return _vm.closeModal.apply(null, arguments)}}},[_c('i',{staticClass:\"fa fa-times\",attrs:{\"aria-hidden\":\"true\"}})])]),_c('div',{staticClass:\"modal-body\"},[_c('table',_vm._l((_vm.order.orderProducts),function(orderProduct){return _c('tbody',{key:orderProduct.id},[_c('tr',[_c('td',{staticClass:\"orderProduct-img\"},[_c('img',{attrs:{\"src\":orderProduct.image,\"alt\":\"\"}})]),_c('td',{staticClass:\"orderProduct-name\"},[_vm._v(\" \"+_vm._s(orderProduct.name)+\" \")]),_c('td',{staticClass:\"orderProduct-quantity\"},[_vm._v(\" \"+_vm._s(orderProduct.OrderItem.quantity)+\" 件 \")]),_c('td',{staticClass:\"orderProduct-price\"},[_vm._v(\" NT$ \"+_vm._s(orderProduct.OrderItem.quantity * orderProduct.price)+\" \")])])])}),0)]),_c('div',{staticClass:\"modal-footer\"},[_c('p',[_vm._v(\"收件人姓名: \"+_vm._s(_vm.order.name))]),_c('p',[_vm._v(\"收件地址: \"+_vm._s(_vm.order.address))]),_c('p',[_vm._v(\"連絡電話: \"+_vm._s(_vm.order.phone))])])])])])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"order-wrapper\">\r\n    <!-- Button trigger modal -->\r\n    <button\r\n      class=\"modal-btn\"\r\n      type=\"button\"\r\n      data-bs-toggle=\"modal\"\r\n      data-bs-target=\"#exampleModal\"\r\n      @click.prevent.stop=\"showModal\"\r\n    >\r\n      詳\r\n    </button>\r\n\r\n    <!-- Modal -->\r\n    <div\r\n      class=\"modal fade\"\r\n      :id=\"modalId\"\r\n      tabindex=\"-1\"\r\n      aria-labelledby=\"exampleModal\"\r\n      aria-hidden=\"true\"\r\n    >\r\n      <div class=\"modal-dialog\">\r\n        <div class=\"modal-content\">\r\n          <div class=\"modal-header\">\r\n            <h5 class=\"modal-title\" id=\"exampleModalLabel\">商品明細</h5>\r\n            <button\r\n              type=\"button\"\r\n              class=\"btn-close\"\r\n              data-bs-dismiss=\"modal\"\r\n              aria-label=\"Close\"\r\n              @click.prevent.stop=\"closeModal\"\r\n            >\r\n              <i class=\"fa fa-times\" aria-hidden=\"true\"></i>\r\n            </button>\r\n          </div>\r\n          <div class=\"modal-body\">\r\n            <table>\r\n              <tbody\r\n                v-for=\"orderProduct in order.orderProducts\"\r\n                :key=\"orderProduct.id\"\r\n              >\r\n                <tr>\r\n                  <td class=\"orderProduct-img\">\r\n                    <img :src=\"orderProduct.image\" alt=\"\" />\r\n                  </td>\r\n                  <td class=\"orderProduct-name\">\r\n                    {{ orderProduct.name }}\r\n                  </td>\r\n                  <td class=\"orderProduct-quantity\">\r\n                    {{ orderProduct.OrderItem.quantity }} 件\r\n                  </td>\r\n                  <td class=\"orderProduct-price\">\r\n                    NT$\r\n                    {{ orderProduct.OrderItem.quantity * orderProduct.price }}\r\n                  </td>\r\n                </tr>\r\n              </tbody>\r\n            </table>\r\n          </div>\r\n          <div class=\"modal-footer\">\r\n            <p>收件人姓名: {{ order.name }}</p>\r\n            <p>收件地址: {{ order.address }}</p>\r\n            <p>連絡電話: {{ order.phone }}</p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport AdminApi from \"../../apis/admin\";\r\nimport modal from \"bootstrap/js/dist/modal\";\r\n\r\nexport default {\r\n  props: {\r\n    initialOrderId: {\r\n      type: Number,\r\n      required: true,\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      order: [],\r\n      totalPrice: \"\",\r\n      modalId: \"\",\r\n      modal: null,\r\n    };\r\n  },\r\n  created() {\r\n    this.fetchOrder();\r\n  },\r\n  methods: {\r\n    async fetchOrder() {\r\n      try {\r\n        const response = await AdminApi.getOrder({\r\n          id: this.initialOrderId,\r\n        });\r\n        this.order = response.data.order;\r\n        this.modalId = `order${this.order.id}`;\r\n        this.totalPrice = response.data.totalPrice;\r\n      } catch (error) {\r\n        console.log(error);\r\n      }\r\n    },\r\n    showModal() {\r\n      this.modal = new modal(document.getElementById(this.modalId));\r\n      this.modal.show();\r\n    },\r\n    closeModal() {\r\n      this.modal.hide();\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n.modal-body {\r\n  width: 90%;\r\n  text-align: start;\r\n  margin-left: 1.5rem;\r\n\r\n  font-size: 0.8rem;\r\n  font-weight: 550;\r\n  .orderProduct-img {\r\n    width: 15%;\r\n    margin: auto;\r\n    text-align: center;\r\n    border: 1px solid #ccc;\r\n    img {\r\n      width: 5rem;\r\n      margin: auto;\r\n      object-fit: cover;\r\n    }\r\n  }\r\n  .orderProduct-name {\r\n    width: 40%;\r\n    padding-left: 1rem;\r\n    text-align: start;\r\n    border: 1px solid #ccc;\r\n  }\r\n  .orderProduct-quantity {\r\n    width: 15%;\r\n    margin: auto;\r\n    text-align: center;\r\n    border: 1px solid #ccc;\r\n  }\r\n  .orderProduct-price {\r\n    width: 15%;\r\n    margin: auto;\r\n    text-align: center;\r\n    border: 1px solid #ccc;\r\n  }\r\n  \r\n}\r\n.modal-footer {\r\n  margin: 0 1.5rem;\r\n    p {\r\n      width: 100%;\r\n      text-align:start;\r\n      font-weight: 550;\r\n    }\r\n  }\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AdminOrderModal.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AdminOrderModal.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AdminOrderModal.vue?vue&type=template&id=b7177c8a&\"\nimport script from \"./AdminOrderModal.vue?vue&type=script&lang=js&\"\nexport * from \"./AdminOrderModal.vue?vue&type=script&lang=js&\"\nimport style0 from \"./AdminOrderModal.vue?vue&type=style&index=0&id=b7177c8a&prod&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('nav',{attrs:{\"aria-label\":\"Page navigation example\"}},[_c('ul',{staticClass:\"pagination\"},[_c('li',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.previousPage),expression:\"previousPage\"}],class:['page-item', { disabled: _vm.currentPage === 1 }]},[_c('router-link',{staticClass:\"page-link\",attrs:{\"aria-label\":\"Previous\",\"to\":{\n          name: 'admin-orders',\n          query: { page: _vm.previousPage },\n        }}},[_c('span',{attrs:{\"aria-hidden\":\"true\"}},[_vm._v(\"«\")])])],1),_vm._l((_vm.totalPage),function(page){return _c('li',{key:page,class:['page-item', { active: _vm.currentPage === page }]},[_c('router-link',{staticClass:\"page-link\",attrs:{\"to\":{ name: 'admin-orders', query: { page } }}},[_vm._v(\" \"+_vm._s(page)+\" \")])],1)}),_c('li',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.nextPage),expression:\"nextPage\"}],class:['page-item', { disabled: _vm.currentPage === _vm.totalPage }]},[_c('router-link',{staticClass:\"page-link\",attrs:{\"to\":{ name: 'admin-orders', query: { page: _vm.nextPage } },\"aria-label\":\"Next\"}},[_c('span',{attrs:{\"aria-hidden\":\"true\"}},[_vm._v(\"»\")])])],1)],2)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <nav aria-label=\"Page navigation example\">\r\n    <ul class=\"pagination\">\r\n      <!-- 前一頁 previousPage -->\r\n      <li\r\n        v-show=\"previousPage\"\r\n        :class=\"['page-item', { disabled: currentPage === 1 }]\"\r\n      >\r\n        <router-link\r\n          class=\"page-link\"\r\n          aria-label=\"Previous\"\r\n          :to=\"{\r\n            name: 'admin-orders',\r\n            query: { page: previousPage },\r\n          }\"\r\n        >\r\n          <span aria-hidden=\"true\">&laquo;</span>\r\n        </router-link>\r\n      </li>\r\n      <!-- 頁碼 -->\r\n      <li\r\n        v-for=\"page in totalPage\"\r\n        :key=\"page\"\r\n        :class=\"['page-item', { active: currentPage === page }]\"\r\n      >\r\n        <router-link\r\n          class=\"page-link\"\r\n          :to=\"{ name: 'admin-orders', query: { page } }\"\r\n        >\r\n          {{ page }}\r\n        </router-link>\r\n      </li>\r\n\r\n      <!-- 後一頁 nextPage -->\r\n      <li\r\n        v-show=\"nextPage\"\r\n        :class=\"['page-item', { disabled: currentPage === totalPage }]\"\r\n      >\r\n        <router-link\r\n          class=\"page-link\"\r\n          :to=\"{ name: 'admin-orders', query: { page: nextPage } }\"\r\n          aria-label=\"Next\"\r\n        >\r\n          <span aria-hidden=\"true\">&raquo;</span>\r\n        </router-link>\r\n      </li>\r\n    </ul>\r\n  </nav>\r\n</template>\r\n  \r\n  <script>\r\n\r\n\r\nexport default {\r\n  props: {\r\n    \r\n    currentPage: {\r\n      type: Number,\r\n      default: 1,\r\n    },\r\n    totalPage: {\r\n      type: Number,\r\n      required: true,\r\n    },\r\n    previousPage: {\r\n      type: Number,\r\n      required: true,\r\n    },\r\n    nextPage: {\r\n      type: Number,\r\n      required: true,\r\n    },\r\n  },\r\n\r\n};\r\n</script>\r\n  <style lang=\"scss\">\r\nnav {\r\n  width: 100%;\r\n  display: flex;\r\n  justify-content: center;\r\n}\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AdminOrderPaginaiton.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AdminOrderPaginaiton.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AdminOrderPaginaiton.vue?vue&type=template&id=fa38e08c&\"\nimport script from \"./AdminOrderPaginaiton.vue?vue&type=script&lang=js&\"\nexport * from \"./AdminOrderPaginaiton.vue?vue&type=script&lang=js&\"\nimport style0 from \"./AdminOrderPaginaiton.vue?vue&type=style&index=0&id=fa38e08c&prod&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div class=\"admin-orders-wrapper\">\r\n    <Spinner v-if=\"isLoading === true\" />\r\n    <div v-else>\r\n      <div class=\"orderList mt-4\">\r\n        <table class=\"orderList-table\">\r\n          <ProcessSpinner v-if=\"isProcessing === true\" />\r\n          <thead>\r\n            <tr>\r\n              <th>訂單編號</th>\r\n              <th>訂單日期</th>\r\n              <th>總金額</th>\r\n              <th>付款狀態</th>\r\n              <th>配送狀態</th>\r\n              <th>其他</th>\r\n              <th>編輯/取消</th>\r\n            </tr>\r\n          </thead>\r\n\r\n          <tbody v-for=\"order in orders\" :key=\"order.id\">\r\n            \r\n            <tr>\r\n              <td class=\"orderList-item-id\">\r\n                {{ order.id }}\r\n              </td>\r\n\r\n              <td class=\"orderList-item-date\">\r\n                {{ order.createdAt }}\r\n              </td>\r\n              <td class=\"orderList-item-price\">NT$ {{ order.amount }}</td>\r\n              <td class=\"orderList-item-payment\">\r\n                <div v-show=\"!order.isEditing\">\r\n                  <div v-if=\"order.payment_status === '0'\">未付款</div>\r\n                  <div v-else-if=\"order.payment_status === '1'\">已付款</div>\r\n                  <div v-else>已取消</div>\r\n                </div>\r\n                <div v-show=\"order.isEditing\">\r\n                  <label for=\"payment\"></label>\r\n                  <select\r\n                    name=\"payment\"\r\n                    id=\"payment\"\r\n                    v-model=\"order.payment_status\"\r\n                  >\r\n                    <option\r\n                      value=\"-1\"\r\n                      :selected=\"order.payment_status === '-1'\"\r\n                    >\r\n                      已取消\r\n                    </option>\r\n                    <option value=\"0\" :selected=\"order.payment_status === '0'\">\r\n                      未付款\r\n                    </option>\r\n                    <option value=\"1\" :selected=\"order.payment_status === '1'\">\r\n                      已付款\r\n                    </option>\r\n                  </select>\r\n                </div>\r\n              </td>\r\n              <td class=\"orderList-item-shipment\">\r\n                <div v-show=\"!order.isEditing\">\r\n                  <div v-if=\"order.shipping_status === '0'\">未配送</div>\r\n                  <div v-else-if=\"order.shipping_status === '1'\">配送中</div>\r\n                  <div v-else>已取消</div>\r\n                </div>\r\n                <div v-show=\"order.isEditing\">\r\n                  <label for=\"shipment\"></label>\r\n                  <select\r\n                    name=\"shipment\"\r\n                    id=\"shipment\"\r\n                    v-model=\"order.shipping_status\"\r\n                  >\r\n                    <option\r\n                      value=\"-1\"\r\n                      :selected=\"order.shipping_status === '-1'\"\r\n                    >\r\n                      已取消\r\n                    </option>\r\n                    <option value=\"0\" :selected=\"order.shipping_status === '0'\">\r\n                      未配送\r\n                    </option>\r\n                    <option value=\"1\" :selected=\"order.shipping_status === '1'\">\r\n                      配送中\r\n                    </option>\r\n                  </select>\r\n                </div>\r\n              </td>\r\n              <td >\r\n                <AdminOrderModal :initial-order-id=\"order.id\" />\r\n              </td>\r\n              <td class=\"orderList-item-btn\">\r\n                <button\r\n                  v-show=\"!order.isEditing\"\r\n                  @click.prevent.stop=\"toggleIsEditing(order.id)\"\r\n                >\r\n                  <i class=\"fa fa-edit fa-lg\"></i>\r\n                </button>\r\n                <button\r\n                  v-show=\"order.isEditing\"\r\n                  @click.prevent.stop=\"\r\n                    updateOrder({\r\n                      orderId: order.id,\r\n                      payment: order.payment_status,\r\n                      shipment: order.shipping_status,\r\n                    })\r\n                  \"\r\n                >\r\n                  <i class=\"fa fa-save fa-lg\"></i>\r\n                </button>\r\n                <button @click.prevent.stop=\"cancelOrder(order)\">\r\n                  <i class=\"fa fa-cancel fa-lg\"></i>\r\n                </button>\r\n              </td>\r\n            </tr>\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n      <AdminOrderPaginaiton\r\n        :current-page=\"currentPage\"\r\n        :total-page=\"totalPage\"\r\n        :previous-page=\"previousPage\"\r\n        :next-page=\"nextPage\"\r\n      />\r\n    </div>\r\n  </div>\r\n</template>\r\n  \r\n  <script>\r\nimport AdminApi from \"../../apis/admin\";\r\nimport { Toast } from \"../../utils/helpers\";\r\nimport AdminOrderModal from \"../dashboard/AdminOrderModal.vue\";\r\nimport AdminOrderPaginaiton from \"./AdminOrderPaginaiton.vue\";\r\nimport Spinner from \"../../components/Spinner.vue\";\r\nimport ProcessSpinner from \"../../components/ProcessSpinner.vue\";\r\n\r\nexport default {\r\n  components: {\r\n    AdminOrderModal,\r\n    AdminOrderPaginaiton,\r\n    Spinner,\r\n    ProcessSpinner\r\n  },\r\n  data() {\r\n    return {\r\n      orders: [],\r\n      currentPage: 1,\r\n      totalPage: 1,\r\n      previousPage: -1,\r\n      nextPage: -1,\r\n      isLoading: true,\r\n      isProcessing: false\r\n      \r\n    };\r\n  },\r\n  created() {\r\n    const { page = \"\" } = this.$route.query;\r\n    this.fetchOrders({ queryPage: page });\r\n  },\r\n  beforeRouteUpdate(to, from, next) {\r\n    const { page = \"\" } = to.query;\r\n    this.isLoading = true\r\n    this.fetchOrders({ queryPage: page });\r\n    next();\r\n  },\r\n  methods: {\r\n    async fetchOrders({ queryPage }) {\r\n      try {\r\n        const response = await AdminApi.getOrders({\r\n          page: queryPage,\r\n        });\r\n        const { data } = response;\r\n        if (response.status === \"error\") {\r\n          throw new Error(data.message);\r\n        }\r\n        this.orders = data.orders.map((order) => ({\r\n          ...order,\r\n          isEditing: false,\r\n        }));\r\n        const { currentPage, totalPage, next, prev } = data.pagination;\r\n        this.currentPage = currentPage;\r\n        this.totalPage = totalPage;\r\n        this.nextPage = next;\r\n        this.previousPage = prev;\r\n\r\n        this.isLoading = false;\r\n      } catch (error) {\r\n        this.isLoading = false;\r\n        Toast.fire({\r\n          icon: \"error\",\r\n          title: \"無法取得訂單資料，請稍後再試\",\r\n        });\r\n      }\r\n    },\r\n    async cancelOrder(order) {\r\n      try {\r\n       this.isProcessing = true\r\n        const response = await AdminApi.cancelOrder({\r\n          id: order.id,\r\n        });\r\n        if (response.status === \"error\") {\r\n          throw new Error(response.data.message);\r\n        }\r\n       order.payment_status = -1\r\n       order.shipping_status = -1\r\n        this.isProcessing = false \r\n        \r\n\r\n      } catch (error) {\r\n        this.isProcessing = false\r\n        Toast.fire({\r\n          icon: \"error\",\r\n          title: \"無法取消訂單，請稍後再試\",\r\n        });\r\n      }\r\n    },\r\n    toggleIsEditing(orderId) {\r\n\r\n      this.orders = this.orders.map((order) => {\r\n        if (order.id === orderId) {\r\n          return {\r\n            ...order,\r\n            isEditing: !order.isEditing,\r\n          };\r\n        }\r\n        return order;\r\n      });\r\n    },\r\n    async updateOrder(order) {\r\n      try {\r\n        this.isProcessing = true\r\n        const response = await AdminApi.updateOrder({\r\n          id: order.orderId,\r\n          payment: order.payment,\r\n          shipment: order.shipment,\r\n        });\r\n        if (response.status === \"error\") {\r\n          throw new Error(response.data.message);\r\n        }\r\n        this.toggleIsEditing(order.orderId);\r\n        this.isProcessing = false\r\n      } catch (error) {\r\n        this.isProcessing = false\r\n        Toast.fire({\r\n          icon: \"error\",\r\n          title: \"無法編輯訂單資料，請稍後再試\",\r\n        });\r\n      }\r\n    },\r\n  },\r\n  \r\n};\r\n</script>\r\n  \r\n  <style lang=\"scss\">\r\n.admin-orders-wrapper {\r\n  margin: 2rem 0;\r\n  width: 100%;\r\n  @media (min-width: 800px) {\r\n    margin: 2rem 20%;\r\n  }\r\n  .orderList {\r\n    margin: auto;\r\n    border-radius: 10px;\r\n    .orderList-table {\r\n      position: relative;\r\n      background-color: #747373;\r\n      border-radius: 10px;\r\n      text-align: center;\r\n      margin: auto;\r\n      width: 100%;\r\n\r\n      th {\r\n        height: 2.5rem;\r\n        padding: 0.1rem auto;\r\n        margin: auto;\r\n        text-align: center;\r\n      }\r\n      td {\r\n        height: 2.5rem;\r\n        margin: auto;\r\n        text-align: center;\r\n        background-color: #ffffff;\r\n      }\r\n      .orderList-item-id {\r\n        width: 15%;\r\n      }\r\n      .orderList-item-date {\r\n        width: 15%;\r\n      }\r\n      .orderList-item-price {\r\n        width: 20%;\r\n      }\r\n      .orderList-item-payment {\r\n        width: 15%;\r\n      }\r\n      .orderList-item-shipment {\r\n        width: 15%;\r\n      }\r\n      .orderList-item-btn {\r\n        width: 15%;\r\n      }\r\n      tr {\r\n        border-bottom: 1px solid #ccc;\r\n        margin: 0;\r\n      }\r\n    }\r\n    .orderList-table tbody:last-child {\r\n      border-bottom: none;\r\n    }\r\n  }\r\n}\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AdminOrders.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AdminOrders.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AdminOrders.vue?vue&type=template&id=f3c9133e&\"\nimport script from \"./AdminOrders.vue?vue&type=script&lang=js&\"\nexport * from \"./AdminOrders.vue?vue&type=script&lang=js&\"\nimport style0 from \"./AdminOrders.vue?vue&type=style&index=0&id=f3c9133e&prod&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AdminOrderPaginaiton.vue?vue&type=style&index=0&id=fa38e08c&prod&lang=scss&\""],"sourceRoot":""}